
@{
    ViewBag.Title = "Send Airtime";
}

<h2>Send Airtime</h2>
<hr />
<div class="container">
    <div class="row">
        <div class="col-md-4">
            <label>Phone Number</label>
        </div>
        <div class="col-md-8">
            <input type="text" id="phone" name="phone" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <label>Amount</label>
        </div>
        <br />
        <div class="col-md-8">
            <input type="number" id="amount" name="amount" />
        </div>

    </div>

    <div class="row">
        <div class="col-md-4">
            <input type="submit" value="Send Airtime" id="sendAirtime" />
        </div>

    </div>
</div>

<script src="~/Scripts/jquery-3.4.1.js"></script>
<script type="text/javascript">
        $('#sendAirtime').click(function (e) {
            debugger;
            e.preventDefault();
            var phoneNumber = $('#phone').val();
            var amount = $('#amount').val();

            var request = {};
            request.phoneNumber = phoneNumber;
            request.amount = amount;

            $.ajax({
                "method": "POST",
                "url": "@Url.Action("SendAirtime", "Airtime")",
                "data": JSON.stringify(request),
                "contentType": "application/json;",
                "dataType": "json",
                success: function (response) {
                    alert("Airtime sent successfully");
                },
                error: function (error) {
                    console.log(error);
                }
            })
        })


</script>
